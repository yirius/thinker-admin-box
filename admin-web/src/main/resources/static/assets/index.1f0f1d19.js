import{u}from"./vuex.fa98a0d6.js";import{a as p}from"./vxe-table.af633bdf.js";import{x as a}from"./xe-utils.a7d87cf6.js";import{_ as c,g as f}from"./index.a744804a.js";import{d as g,j as h,k as b,a6 as y,o as x,c as v,a2 as $,U as R}from"./@vue.1015dcbd.js";import"./@element-plus.220d6db7.js";import"./element-plus.0c0d1b6e.js";import"./lodash-es.032e1c7e.js";import"./@ctrl.82a509e0.js";import"./dayjs.818e5577.js";import"./@kangc.f912404d.js";import"./vue.9b77f3f7.js";import"./async-validator.5d25c98b.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./@floating-ui.1ef3caef.js";import"./vxe-table-plugin-element.e4063f60.js";import"./vxe-table-plugin-export-xlsx.25030aa5.js";import"./exceljs.3364a90c.js";import"./vue-i18n.e5b09f92.js";import"./@intlify.7df7362d.js";import"./axios.d2ab6b2c.js";import"./qs.6ea39d31.js";import"./side-channel.f7ae5909.js";import"./get-intrinsic.1675b33e.js";import"./has-symbols.caae0f97.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./call-bind.0b5a4f26.js";import"./object-inspect.a81284f5.js";import"./dotenv.04d4ebad.js";import"./vue-router.87d0219e.js";import"./nprogress.9823fd6c.js";import"./vue3-sfc-loader.41fe0098.js";import"./@vueuse.38f6f3c4.js";import"./throttle-debounce.f3f727a9.js";import"./sortablejs.939c3627.js";import"./echarts.a4c9e4fe.js";import"./zrender.d49f868d.js";import"./tslib.60310f1a.js";/* empty css                      */import"./vite-plugin-mock.03a04ca1.js";import"./mockjs.bc2d1bb5.js";import"./path-to-regexp.3eda823b.js";const k=g({setup(){u();const n=h({border:!0,showHeaderOverflow:!0,showOverflow:!0,keepSource:!0,id:"full_edit_1",height:600,align:"center",size:"small",scrollY:{enable:!1},rowConfig:{keyField:"id",isHover:!0},columnConfig:{resizable:!0},customConfig:{storage:!0,checkMethod({column:e}){return!["nickname","role"].includes(e.property)}},printConfig:{columns:[{field:"name"},{field:"email"},{field:"nickname"},{field:"age"},{field:"amount"}]},sortConfig:{trigger:"cell",remote:!0},filterConfig:{remote:!0},pagerConfig:{pageSize:10,pageSizes:[5,10,15,20,50,100,200,500,1e3]},formConfig:{titleWidth:100,titleAlign:"right",items:[{field:"name",title:"\u540D\u79F0",span:8,titlePrefix:{message:"app.body.valid.rName",icon:"fa fa-exclamation-circle"},itemRender:{name:"$input",props:{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"}}},{field:"email",title:"\u90AE\u4EF6",span:8,titlePrefix:{useHTML:!0,message:'\u70B9\u51FB\u94FE\u63A5\uFF1A<a class="link" href="https://vxetable.cn" target="_blank">vxe-table\u5B98\u7F51</a>',icon:"vxe-icon--question"},itemRender:{name:"$input",props:{placeholder:"\u8BF7\u8F93\u5165\u90AE\u4EF6"}}},{field:"nickname",title:"\u6635\u79F0",span:8,itemRender:{name:"$input",props:{placeholder:"\u8BF7\u8F93\u5165\u6635\u79F0"}}},{field:"role",title:"\u89D2\u8272",span:8,folding:!0,itemRender:{name:"$input",props:{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272"}}},{field:"sex",title:"\u6027\u522B",span:8,folding:!0,titleSuffix:{message:"\u6CE8\u610F\uFF0C\u5FC5\u586B\u4FE1\u606F\uFF01",icon:"fa fa-info-circle"},itemRender:{name:"$select",options:[]}},{field:"age",title:"\u5E74\u9F84",span:8,folding:!0,itemRender:{name:"$input",props:{type:"number",min:1,max:120,placeholder:"\u8BF7\u8F93\u5165\u5E74\u9F84"}}},{span:24,align:"center",collapseNode:!0,itemRender:{name:"$buttons",children:[{props:{type:"submit",content:"app.body.label.search",status:"primary"}},{props:{type:"reset",content:"app.body.label.reset"}}]}}]},toolbarConfig:{buttons:[{code:"insert_actived",name:"\u65B0\u589E",icon:"fa fa-plus"},{code:"delete",name:"\u76F4\u63A5\u5220\u9664",icon:"fa fa-trash-o"},{code:"mark_cancel",name:"\u5220\u9664/\u53D6\u6D88",icon:"fa fa-trash-o"},{code:"save",name:"app.body.button.save",icon:"fa fa-save",status:"success"}],refresh:!0,import:!0,export:!0,print:!0,zoom:!0,custom:!0},proxyConfig:{seq:!0,sort:!0,filter:!0,form:!0,props:{result:"items",total:"total"},ajax:{query:({page:e,sorts:r,filters:i,form:t})=>{const o=Object.assign({},t),s=r[0];return s&&(o.sort=s.property,o.order=s.order),i.forEach(({property:l,values:d})=>{o[l]=d.join(",")}),f(`/restful/thinker/monitor/systemLogs?limit=${e.pageSize}&page=${e.currentPage}&${a.serialize(o)}`,{}).then(l=>l.data)},delete:({body:e})=>fetch("/restful/thinker/monitor/systemLogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(r=>r.json()),save:({body:e})=>fetch("/restful/thinker/monitor/systemLogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(r=>r.json())}},columns:[{type:"seq",title:"#",width:60},{type:"checkbox",title:"ID",width:120},{field:"name",title:"Name",sortable:!0,titleHelp:{message:"\u540D\u79F0\u5FC5\u987B\u586B\u5199\uFF01"},editRender:{name:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"}}},{field:"role",title:"Role",sortable:!0,titleHelp:{useHTML:!0,content:'\u70B9\u51FB\u94FE\u63A5\uFF1A<a class="link" href="https://vxetable.cn" target="_blank">vxe-table\u5B98\u7F51</a>'},filters:[{label:"\u524D\u7AEF\u5F00\u53D1",value:"\u524D\u7AEF"},{label:"\u540E\u7AEF\u5F00\u53D1",value:"\u540E\u7AEF"},{label:"\u6D4B\u8BD5",value:"\u6D4B\u8BD5"},{label:"\u7A0B\u5E8F\u5458\u9F13\u52B1\u5E08",value:"\u7A0B\u5E8F\u5458\u9F13\u52B1\u5E08"}],filterMultiple:!1,editRender:{name:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272"}}},{field:"email",title:"Email",width:160,editRender:{name:"$input",props:{placeholder:"\u8BF7\u8F93\u5165\u90AE\u4EF6"}}},{field:"content",title:"Nickname",showOverflow:!0,editRender:{name:"input",attrs:{placeholder:"\u8BF7\u8F93\u5165\u6635\u79F0"}},formatter:e=>(console.log(e),"1")},{field:"sex",title:"Sex",filters:[{label:"\u7537",value:"1"},{label:"\u5973",value:"0"}],editRender:{name:"$select",options:[],props:{placeholder:"\u8BF7\u9009\u62E9\u6027\u522B"}}},{field:"age",title:"Age",visible:!1,sortable:!0,editRender:{name:"$input",props:{type:"number",min:1,max:120}}},{field:"amount",title:"Amount",formatter({cellValue:e}){return e?`\uFFE5${a.commafy(a.toNumber(e),{digits:2})}`:""},editRender:{name:"$input",props:{type:"float",digits:2,placeholder:"\u8BF7\u8F93\u5165\u6570\u503C"}}},{field:"updateDate",title:"Update Date",width:160,visible:!1,sortable:!0,formatter({cellValue:e}){return a.toDateString(e,"yyyy-MM-dd HH:ss:mm")}},{field:"createDate",title:"Create Date",width:160,visible:!1,sortable:!0,formatter({cellValue:e}){return a.toDateString(e,"yyyy-MM-dd")}}],importConfig:{remote:!0,types:["xlsx"],modes:["insert"],importMethod({file:e}){const r=xGrid.value,i=new FormData;return i.append("file",e),fetch("/api/pub/import",{method:"POST",body:i}).then(t=>t.json()).then(t=>{p.modal.message({content:`\u6210\u529F\u5BFC\u5165 ${t.result.insertRows} \u6761\u8BB0\u5F55\uFF01`,status:"success"}),r.commitProxy("query")}).catch(()=>{p.modal.message({content:"\u5BFC\u5165\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u6570\u636E\u662F\u5426\u6B63\u786E\uFF01",status:"error"})})}},exportConfig:{remote:!0,types:["xlsx"],modes:["current","selected","all"],exportMethod({options:e}){const i=xGrid.value.getProxyInfo();e.filename,e.sheetName,e.isHeader,e.original,e.mode,i&&i.pager,e.mode==="selected"&&e.data.map(t=>t.id),e.columns.map(t=>({field:t.property,title:t.title}))}},checkboxConfig:{labelField:"id",reserve:!0,highlight:!0,range:!0},editRules:{name:[{required:!0,message:"app.body.valid.rName"},{min:3,max:50,message:"\u540D\u79F0\u957F\u5EA6\u5728 3 \u5230 50 \u4E2A\u5B57\u7B26"}],email:[{required:!0,message:"\u90AE\u4EF6\u5FC5\u987B\u586B\u5199"}],role:[{required:!0,message:"\u89D2\u8272\u5FC5\u987B\u586B\u5199"}]},editConfig:{trigger:"click",mode:"row",showStatus:!0}});return b(()=>{const e=[{label:"\u5973",value:"0"},{label:"\u7537",value:"1"}];console.log(n);const{formConfig:r,columns:i}=n;if(i){const t=i[5];t&&t.editRender&&(t.editRender.options=e)}if(r&&r.items){const t=r.items[4];t&&t.itemRender&&(t.itemRender.options=e)}}),{gridOptions:n}}}),C={class:"system-table-box bg-white"};function _(m,n,e,r,i,t){const o=y("vxe-grid");return x(),v("div",C,[$(o,R({ref:"xGrid"},m.gridOptions),null,16)])}var be=c(k,[["render",_]]);export{be as default};
