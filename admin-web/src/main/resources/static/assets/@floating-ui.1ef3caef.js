var rt=Object.defineProperty,lt=Object.defineProperties;var ct=Object.getOwnPropertyDescriptors;var Y=Object.getOwnPropertySymbols;var ft=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;var j=(t,e,n)=>e in t?rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m=(t,e)=>{for(var n in e||(e={}))ft.call(e,n)&&j(t,n,e[n]);if(Y)for(var n of Y(e))st.call(e,n)&&j(t,n,e[n]);return t},A=(t,e)=>lt(t,ct(e));function M(t){return t.split("-")[0]}function Q(t){return t.split("-")[1]}function V(t){return["top","bottom"].includes(M(t))?"x":"y"}function U(t){return t==="y"?"height":"width"}function I(t,e,n){let{reference:i,floating:r}=t;const c=i.x+i.width/2-r.width/2,f=i.y+i.height/2-r.height/2,o=V(e),l=U(o),u=i[l]/2-r[l]/2,a=o==="x";let s;switch(M(e)){case"top":s={x:c,y:i.y-r.height};break;case"bottom":s={x:c,y:i.y+i.height};break;case"right":s={x:i.x+i.width,y:f};break;case"left":s={x:i.x-r.width,y:f};break;default:s={x:i.x,y:i.y}}switch(Q(e)){case"start":s[o]-=u*(n&&a?-1:1);break;case"end":s[o]+=u*(n&&a?-1:1)}return s}const ut=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:c=[],platform:f}=n,o=await(f.isRTL==null?void 0:f.isRTL(e));let l=await f.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:a}=I(l,i,o),s=i,d={};for(let h=0;h<c.length;h++){const{name:p,fn:x}=c[h],{x:T,y:R,data:w,reset:g}=await x({x:u,y:a,initialPlacement:i,placement:s,strategy:r,middlewareData:d,rects:l,platform:f,elements:{reference:t,floating:e}});u=T!=null?T:u,a=R!=null?R:a,d=A(m({},d),{[p]:m(m({},d[p]),w)}),g&&(typeof g=="object"&&(g.placement&&(s=g.placement),g.rects&&(l=g.rects===!0?await f.getElementRects({reference:t,floating:e,strategy:r}):g.rects),{x:u,y:a}=I(l,s,o)),h=-1)}return{x:u,y:a,placement:s,strategy:r,middlewareData:d}};function at(t){return typeof t!="number"?function(e){return m({top:0,right:0,bottom:0,left:0},e)}(t):{top:t,right:t,bottom:t,left:t}}function q(t){return A(m({},t),{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}const dt=Math.min,ht=Math.max;function gt(t,e,n){return ht(t,dt(e,n))}const vt=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:i=0}=t!=null?t:{},{x:r,y:c,placement:f,rects:o,platform:l}=e;if(n==null)return{};const u=at(i),a={x:r,y:c},s=V(f),d=U(s),h=await l.getDimensions(n),p=s==="y"?"top":"left",x=s==="y"?"bottom":"right",T=o.reference[d]+o.reference[s]-a[s]-o.floating[d],R=a[s]-o.reference[s],w=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n)),g=w?s==="y"?w.clientHeight||0:w.clientWidth||0:0,C=T/2-R/2,$=u[p],it=g-h[d]-u[x],B=g/2-h[d]/2+C,X=gt($,B,it);return{data:{[s]:X,centerOffset:B-X}}}}),mt=["top","right","bottom","left"];mt.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const Lt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:i,placement:r,rects:c,platform:f,elements:o}=e,l=function(u,a,s,d){d===void 0&&(d=!1);const h=M(u),p=Q(u),x=V(u)==="x",T=["left","top"].includes(h)?-1:1,R=d&&x?-1:1,w=typeof s=="function"?s(A(m({},a),{placement:u})):s;let{mainAxis:g,crossAxis:C,alignmentAxis:$}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:m({mainAxis:0,crossAxis:0,alignmentAxis:null},w);return p&&typeof $=="number"&&(C=p==="end"?-1*$:$),x?{x:C*R,y:g*T}:{x:g*T,y:C*R}}(r,c,t,await(f.isRTL==null?void 0:f.isRTL(o.floating)));return{x:n+l.x,y:i+l.y,data:l}}}};function Z(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function v(t){if(t==null)return window;if(!Z(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function E(t){return v(t).getComputedStyle(t)}function b(t){return Z(t)?"":t?(t.nodeName||"").toLowerCase():""}function y(t){return t instanceof v(t).HTMLElement}function H(t){return t instanceof v(t).Element}function k(t){return typeof ShadowRoot=="undefined"?!1:t instanceof v(t).ShadowRoot||t instanceof ShadowRoot}function N(t){const{overflow:e,overflowX:n,overflowY:i}=E(t);return/auto|scroll|overlay|hidden/.test(e+i+n)}function pt(t){return["table","td","th"].includes(b(t))}function z(t){const e=navigator.userAgent.toLowerCase().includes("firefox"),n=E(t);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||e&&n.willChange==="filter"||e&&!!n.filter&&n.filter!=="none"}function _(){return!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}const F=Math.min,D=Math.max,S=Math.round;function W(t,e,n){var i,r,c,f;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect();let l=1,u=1;e&&y(t)&&(l=t.offsetWidth>0&&S(o.width)/t.offsetWidth||1,u=t.offsetHeight>0&&S(o.height)/t.offsetHeight||1);const a=H(t)?v(t):window,s=!_()&&n,d=(o.left+(s&&(i=(r=a.visualViewport)==null?void 0:r.offsetLeft)!=null?i:0))/l,h=(o.top+(s&&(c=(f=a.visualViewport)==null?void 0:f.offsetTop)!=null?c:0))/u,p=o.width/l,x=o.height/u;return{width:p,height:x,top:h,right:d+p,bottom:h+x,left:d,x:d,y:h}}function L(t){return(e=t,(e instanceof v(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function O(t){return H(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function tt(t){return W(L(t)).left+O(t).scrollLeft}function yt(t,e,n){const i=y(e),r=L(e),c=W(t,i&&function(l){const u=W(l);return S(u.width)!==l.offsetWidth||S(u.height)!==l.offsetHeight}(e),n==="fixed");let f={scrollLeft:0,scrollTop:0};const o={x:0,y:0};if(i||!i&&n!=="fixed")if((b(e)!=="body"||N(r))&&(f=O(e)),y(e)){const l=W(e,!0);o.x=l.x+e.clientLeft,o.y=l.y+e.clientTop}else r&&(o.x=tt(r));return{x:c.left+f.scrollLeft-o.x,y:c.top+f.scrollTop-o.y,width:c.width,height:c.height}}function et(t){return b(t)==="html"?t:t.assignedSlot||t.parentNode||(k(t)?t.host:null)||L(t)}function G(t){return y(t)&&getComputedStyle(t).position!=="fixed"?t.offsetParent:null}function P(t){const e=v(t);let n=G(t);for(;n&&pt(n)&&getComputedStyle(n).position==="static";)n=G(n);return n&&(b(n)==="html"||b(n)==="body"&&getComputedStyle(n).position==="static"&&!z(n))?e:n||function(i){let r=et(i);for(k(r)&&(r=r.host);y(r)&&!["html","body"].includes(b(r));){if(z(r))return r;r=r.parentNode}return null}(t)||e}function J(t){if(y(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=W(t);return{width:e.width,height:e.height}}function nt(t){const e=et(t);return["html","body","#document"].includes(b(e))?t.ownerDocument.body:y(e)&&N(e)?e:nt(e)}function ot(t,e){var n;e===void 0&&(e=[]);const i=nt(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),c=v(i),f=r?[c].concat(c.visualViewport||[],N(i)?i:[]):i,o=e.concat(f);return r?o:o.concat(ot(f))}function K(t,e,n){return e==="viewport"?q(function(i,r){const c=v(i),f=L(i),o=c.visualViewport;let l=f.clientWidth,u=f.clientHeight,a=0,s=0;if(o){l=o.width,u=o.height;const d=_();(d||!d&&r==="fixed")&&(a=o.offsetLeft,s=o.offsetTop)}return{width:l,height:u,x:a,y:s}}(t,n)):H(e)?function(i,r){const c=W(i,!1,r==="fixed"),f=c.top+i.clientTop,o=c.left+i.clientLeft;return{top:f,left:o,x:o,y:f,right:o+i.clientWidth,bottom:f+i.clientHeight,width:i.clientWidth,height:i.clientHeight}}(e,n):q(function(i){var r;const c=L(i),f=O(i),o=(r=i.ownerDocument)==null?void 0:r.body,l=D(c.scrollWidth,c.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),u=D(c.scrollHeight,c.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let a=-f.scrollLeft+tt(i);const s=-f.scrollTop;return E(o||c).direction==="rtl"&&(a+=D(c.clientWidth,o?o.clientWidth:0)-l),{width:l,height:u,x:a,y:s}}(L(t)))}function xt(t){const e=ot(t),n=["absolute","fixed"].includes(E(t).position)&&y(t)?P(t):t;return H(n)?e.filter(i=>H(i)&&function(r,c){const f=c==null||c.getRootNode==null?void 0:c.getRootNode();if(r!=null&&r.contains(c))return!0;if(f&&k(f)){let o=c;do{if(o&&r===o)return!0;o=o.parentNode||o.host}while(o)}return!1}(i,n)&&b(i)!=="body"):[]}const wt={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const c=[...n==="clippingAncestors"?xt(e):[].concat(n),i],f=c[0],o=c.reduce((l,u)=>{const a=K(e,u,r);return l.top=D(a.top,l.top),l.right=F(a.right,l.right),l.bottom=F(a.bottom,l.bottom),l.left=D(a.left,l.left),l},K(e,f,r));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:i}=t;const r=y(n),c=L(n);if(n===c)return e;let f={scrollLeft:0,scrollTop:0};const o={x:0,y:0};if((r||!r&&i!=="fixed")&&((b(n)!=="body"||N(c))&&(f=O(n)),y(n))){const l=W(n,!0);o.x=l.x+n.clientLeft,o.y=l.y+n.clientTop}return A(m({},e),{x:e.x-f.scrollLeft+o.x,y:e.y-f.scrollTop+o.y})},isElement:H,getDimensions:J,getOffsetParent:P,getDocumentElement:L,getElementRects:t=>{let{reference:e,floating:n,strategy:i}=t;return{reference:yt(e,P(n),i),floating:A(m({},J(n)),{x:0,y:0})}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>E(t).direction==="rtl"},Tt=(t,e,n)=>ut(t,e,m({platform:wt},n));export{Tt as N,Lt as T,vt as m};
