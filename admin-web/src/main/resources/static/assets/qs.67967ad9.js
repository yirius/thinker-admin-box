import{s as G}from"./side-channel.9caedf91.js";var W=String.prototype.replace,_=/%20/g,P={RFC1738:"RFC1738",RFC3986:"RFC3986"},D={default:P.RFC3986,formatters:{RFC1738:function(a){return W.call(a,_,"+")},RFC3986:function(a){return String(a)}},RFC1738:P.RFC1738,RFC3986:P.RFC3986},J=D,A=Object.prototype.hasOwnProperty,O=Array.isArray,b=function(){for(var a=[],e=0;e<256;++e)a.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return a}(),X=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(O(n)){for(var l=[],f=0;f<n.length;++f)typeof n[f]!="undefined"&&l.push(n[f]);r.obj[r.prop]=l}}},L=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},l=0;l<e.length;++l)typeof e[l]!="undefined"&&(n[l]=e[l]);return n},Y=function a(e,r,n){if(!r)return e;if(typeof r!="object"){if(O(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!A.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var l=e;return O(e)&&!O(r)&&(l=L(e,n)),O(e)&&O(r)?(r.forEach(function(f,t){if(A.call(e,t)){var u=e[t];u&&typeof u=="object"&&f&&typeof f=="object"?e[t]=a(u,f,n):e.push(f)}else e[t]=f}),e):Object.keys(r).reduce(function(f,t){var u=r[t];return A.call(f,t)?f[t]=a(f[t],u,n):f[t]=u,f},l)},Z=function(e,r){return Object.keys(r).reduce(function(n,l){return n[l]=r[l],n},e)},q=function(a,e,r){var n=a.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},ee=function(e,r,n,l,f){if(e.length===0)return e;var t=e;if(typeof e=="symbol"?t=Symbol.prototype.toString.call(e):typeof e!="string"&&(t=String(e)),n==="iso-8859-1")return escape(t).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var u="",o=0;o<t.length;++o){var i=t.charCodeAt(o);if(i===45||i===46||i===95||i===126||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||f===J.RFC1738&&(i===40||i===41)){u+=t.charAt(o);continue}if(i<128){u=u+b[i];continue}if(i<2048){u=u+(b[192|i>>6]+b[128|i&63]);continue}if(i<55296||i>=57344){u=u+(b[224|i>>12]+b[128|i>>6&63]+b[128|i&63]);continue}o+=1,i=65536+((i&1023)<<10|t.charCodeAt(o)&1023),u+=b[240|i>>18]+b[128|i>>12&63]+b[128|i>>6&63]+b[128|i&63]}return u},re=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],l=0;l<r.length;++l)for(var f=r[l],t=f.obj[f.prop],u=Object.keys(t),o=0;o<u.length;++o){var i=u[o],c=t[i];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:t,prop:i}),n.push(c))}return X(r),e},ne=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ae=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},te=function(e,r){return[].concat(e,r)},ie=function(e,r){if(O(e)){for(var n=[],l=0;l<e.length;l+=1)n.push(r(e[l]));return n}return r(e)},H={arrayToObject:L,assign:Z,combine:te,compact:re,decode:q,encode:ee,isBuffer:ae,isRegExp:ne,maybeMap:ie,merge:Y},z=G,R=H,j=D,le=Object.prototype.hasOwnProperty,B={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},x=Array.isArray,fe=Array.prototype.push,V=function(a,e){fe.apply(a,x(e)?e:[e])},ue=Date.prototype.toISOString,I=j.default,v={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:R.encode,encodeValuesOnly:!1,format:I,formatter:j.formatters[I],indices:!1,serializeDate:function(e){return ue.call(e)},skipNulls:!1,strictNullHandling:!1},oe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ce=function a(e,r,n,l,f,t,u,o,i,c,p,m,h,y,N){var s=e;if(N.has(e))throw new RangeError("Cyclic object value");if(typeof u=="function"?s=u(r,s):s instanceof Date?s=c(s):n==="comma"&&x(s)&&(s=R.maybeMap(s,function(C){return C instanceof Date?c(C):C})),s===null){if(l)return t&&!h?t(r,v.encoder,y,"key",p):r;s=""}if(oe(s)||R.isBuffer(s)){if(t){var k=h?r:t(r,v.encoder,y,"key",p);return[m(k)+"="+m(t(s,v.encoder,y,"value",p))]}return[m(r)+"="+m(String(s))]}var F=[];if(typeof s=="undefined")return F;var S;if(n==="comma"&&x(s))S=[{value:s.length>0?s.join(",")||null:void 0}];else if(x(u))S=u;else{var T=Object.keys(s);S=o?T.sort(o):T}for(var E=0;E<S.length;++E){var g=S[E],$=typeof g=="object"&&g.value!==void 0?g.value:s[g];if(!(f&&$===null)){var U=x(s)?typeof n=="function"?n(r,g):r:r+(i?"."+g:"["+g+"]");N.set(e,!0);var K=z();V(F,a($,U,n,l,f,t,u,o,i,c,p,m,h,y,K))}}return F},se=function(e){if(!e)return v;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||v.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=j.default;if(typeof e.format!="undefined"){if(!le.call(j.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var l=j.formatters[n],f=v.filter;return(typeof e.filter=="function"||x(e.filter))&&(f=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:v.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?v.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:v.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?v.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:v.encode,encoder:typeof e.encoder=="function"?e.encoder:v.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:v.encodeValuesOnly,filter:f,format:n,formatter:l,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:v.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:v.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:v.strictNullHandling}},de=function(a,e){var r=a,n=se(e),l,f;typeof n.filter=="function"?(f=n.filter,r=f("",r)):x(n.filter)&&(f=n.filter,l=f);var t=[];if(typeof r!="object"||r===null)return"";var u;e&&e.arrayFormat in B?u=e.arrayFormat:e&&"indices"in e?u=e.indices?"indices":"repeat":u="indices";var o=B[u];l||(l=Object.keys(r)),n.sort&&l.sort(n.sort);for(var i=z(),c=0;c<l.length;++c){var p=l[c];n.skipNulls&&r[p]===null||V(t,ce(r[p],p,o,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,i))}var m=t.join(n.delimiter),h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),m.length>0?h+m:""},w=H,Q=Object.prototype.hasOwnProperty,ye=Array.isArray,d={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:w.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},ve=function(a){return a.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},M=function(a,e){return a&&typeof a=="string"&&e.comma&&a.indexOf(",")>-1?a.split(","):a},pe="utf8=%26%2310003%3B",he="utf8=%E2%9C%93",me=function(e,r){var n={},l=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=r.parameterLimit===1/0?void 0:r.parameterLimit,t=l.split(r.delimiter,f),u=-1,o,i=r.charset;if(r.charsetSentinel)for(o=0;o<t.length;++o)t[o].indexOf("utf8=")===0&&(t[o]===he?i="utf-8":t[o]===pe&&(i="iso-8859-1"),u=o,o=t.length);for(o=0;o<t.length;++o)if(o!==u){var c=t[o],p=c.indexOf("]="),m=p===-1?c.indexOf("="):p+1,h,y;m===-1?(h=r.decoder(c,d.decoder,i,"key"),y=r.strictNullHandling?null:""):(h=r.decoder(c.slice(0,m),d.decoder,i,"key"),y=w.maybeMap(M(c.slice(m+1),r),function(N){return r.decoder(N,d.decoder,i,"value")})),y&&r.interpretNumericEntities&&i==="iso-8859-1"&&(y=ve(y)),c.indexOf("[]=")>-1&&(y=ye(y)?[y]:y),Q.call(n,h)?n[h]=w.combine(n[h],y):n[h]=y}return n},be=function(a,e,r,n){for(var l=n?e:M(e,r),f=a.length-1;f>=0;--f){var t,u=a[f];if(u==="[]"&&r.parseArrays)t=[].concat(l);else{t=r.plainObjects?Object.create(null):{};var o=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,i=parseInt(o,10);!r.parseArrays&&o===""?t={0:l}:!isNaN(i)&&u!==o&&String(i)===o&&i>=0&&r.parseArrays&&i<=r.arrayLimit?(t=[],t[i]=l):t[o]=l}l=t}return l},ge=function(e,r,n,l){if(!!e){var f=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,t=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,o=n.depth>0&&t.exec(f),i=o?f.slice(0,o.index):f,c=[];if(i){if(!n.plainObjects&&Q.call(Object.prototype,i)&&!n.allowPrototypes)return;c.push(i)}for(var p=0;n.depth>0&&(o=u.exec(f))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&Q.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(o[1])}return o&&c.push("["+f.slice(o.index)+"]"),be(c,r,n,l)}},Oe=function(e){if(!e)return d;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset=="undefined"?d.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?d.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:d.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:d.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:d.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:d.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:d.comma,decoder:typeof e.decoder=="function"?e.decoder:d.decoder,delimiter:typeof e.delimiter=="string"||w.isRegExp(e.delimiter)?e.delimiter:d.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:d.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:d.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:d.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:d.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:d.strictNullHandling}},xe=function(a,e){var r=Oe(e);if(a===""||a===null||typeof a=="undefined")return r.plainObjects?Object.create(null):{};for(var n=typeof a=="string"?me(a,r):a,l=r.plainObjects?Object.create(null):{},f=Object.keys(n),t=0;t<f.length;++t){var u=f[t],o=ge(u,n[u],r,typeof a=="string");l=w.merge(l,o,r)}return r.allowSparse===!0?l:w.compact(l)},we=de,Se=xe,je=D,Fe={formats:je,parse:Se,stringify:we};export{Fe as l};
